@import '../../modules/elements/accordions/accordions.json';
/// Accordions
///
/// @author [@esr360](http://twitter.com/esr360)
/// @access public
/// @group elements
///
/// @param {map} $custom - where custom config will be passed
@mixin accordions($custom: custom('accordions')) {

    // Configuration
    $accordions: config($accordions, $custom);

    //*************************************************************
    // Module
    //*************************************************************

    @include module {

        //*********************************************************
        // Core Styles
        //*********************************************************

        margin-bottom: core('margin');

        @include vertical-rhythm('bottom');

        //*********************************************************
        // Components
        //*********************************************************

        @include component('section') {
            &:not(:last-child) {
                margin-bottom: this('section', 'margin');
            }
            @if (this('section', 'margin') == 0) {
                &:not(:last-child) {
                    > *:first-child, > *:last-child {
                        border-bottom: 0 !important;
                    }
                }
            }
            &:hover {
                @include module {
                    @include component('title') {
                        background: this('title', 'active', 'background');
                        color: this('title-active-color');
                        // open/close icon
                        &:after {
                            color: this('icon', 'active-color');
                        }
                    }
                }
            }
        }

        @include component('title') {
            cursor: pointer;
            display: block;
            margin: 0;
            font-weight: normal;
            line-height: 1;
            backface-visibility: hidden;
            // open/close icon
            &:after {
                font-family: FontAwesome;
                float: right;
                line-height: 0.75;
                content: this('icon', 'glyph');
                color: this('icon', 'color');
                transition: core('transition');
            }
            @include modifier('active') {
                // open/close icon
                &:after {		
                    color: this('icon', 'active-color');
                    transform: rotate(90deg) translateZ(0);
                }
            }
        }

        @include component('content') {
            margin: 0;
            margin-top: -1px;
            display: none;
            @include modifier('active') {
                display: block;
            }
        }

        //*********************************************************
        // Custom Content
        //*********************************************************

        @content;

    } // module

} // @mixin accordions